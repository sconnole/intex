## this is the skeleton of all pages on in this app - it defines the basic html tags

<!DOCTYPE html>
<html>
    <meta charset="UTF-8">
    <head>
        <link rel="icon" href="${STATIC_URL}homepage/media/favicon.ico" type="image/x-icon" />
        <title>Intex &mdash; <%block name="title"></%block></title>

        ## add any site-wide scripts or CSS here; for example, jquery:
        <link rel="stylesheet" href="${STATIC_URL}homepage/media/bootstrap.min.css">
        <script src="${STATIC_URL}homepage/media/jquery-3.3.1.js"></script>
        <script src="${STATIC_URL}homepage/media/bootstrap.min.js"></script>

        ## render the static file links with the same name as this template
        <script src="/django_mako_plus/dmp-common.min.js"></script>
        ${ django_mako_plus.links(self) } 
    </head>
    <body>
        <header id="header">
            <nav class="navbar navbar-expand-lg">
                <a href="/"><img src="${ STATIC_URL }homepage/media/logo.png" alt="home" /></a>
                ##Override the menu when needed
                <%block name="menu">
                    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#myNavbar">
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span> 
                    </button>
                    <div class="dropdown collapse navbar-collapse" id="myNavbar">        
                        <ul class="nav navbar-nav">
                            <li><a class="dropdown-item nav-link ${'active' if request.dmp.page == 'index' else ''}" href="/">Home</a></li>
                        </ul>
                        <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                            Welcome${',' if user.username != '' else ''} ${user.username}
                        </button>
                        <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                            % if user.is_authenticated: 
                                <a class="dropdown-item nav-link" href="/account/logout">Logout</a>
                                <a class="dropdown-item nav-link" href="/account/preferences">Account</a>
                            % else: 
                                <a class="dropdown-item nav-link" href="/account/login">Login</a>
                            % endif
                        </div>
                    </div>        
                </%block>
            </nav>
        </header>

        <main>
            <div id="site_left">
                <%block name="site_left">
                    <div class="search">
                        <input type="text" id="mySearch" placeholder="Search.." title="Type in a category">
                        <button type="submit" class="searchButton">
                            <p class="btn-search">GO</p>
                        </button>
                    </div>
                </%block>
            </div>
            <div id="site_center">
                <%block name="site_center">
                    
                </%block>
            </div>
        </main>

         <%! from datetime import datetime %>
        <footer>
            &copy; Copyright ${datetime.now().year}
        </footer>

    </body>
</html>
